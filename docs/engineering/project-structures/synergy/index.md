---
createTime: 2022/11/11
tag: '项目搭建,前后端协同'
---
# 整理的一些前后端协同工作

## 1. 数据字典使用

数据字典提供统一查询接口

* 查询所有字典接口
* 查询单个字典数据集合
* 查询部分字典数据集合

结构如下

```js
{
 'dicCode1': [
    {
     text: 'show text',
      value: 'code'
    }
  ],
  'dicCode2': [
    {
     text: 'show text',
      value: 'code'
    }
  ]
}
```

## 2. BFF层说明

基本结构：
数据结构基本按照页面功能结构。

举例：入库详情页面：

* 红色框字段：均为一级属性字段。
* 蓝色框为数组结构字段：蓝色框单个对象在页面上需要展示的字段也是一级属性字段。

隐藏字段说明：
应用接口可能存在一些字段需要在前端应用业务操作的同时，会有部分页面不需要的字段冗余到前端。

## 3. 接口查询字段需明确

列表查询接口对于查询条件的匹配需要明确。是使用qp-querystring-eq还是qp-querystring-like，需要明确，因为BFF端会封装页面确定需要的查询形式，不是中心透传。

## 4. 接口文本展示

接口返回字段 code 转换文本的方式处理。

举例：返回的订单列表当中，在数据库当中，trade表会关联存储一个用户code，通过关联user表code可以查询到用户名称。在前端业务页面上面需要显示用户名称，则用户名称需要应用接口处理好对应的用户名称返回到前端。

另一种情况：返回的订单列表里面返回一个tradeStatus，因为订单状态是放在数据字典当中，所以返回到前端的字段不需要进行文本处理，前端通过数据字典数据处理。

总结：

* 数据字典相关的字段，或者明确静态数据的情况，前端处理
* 其他的业务字段文本全部由应用接口处理

## 5. 复杂数据结构处理

## 6. 日期格式处理

## 7. 错误文本展示

错误文本展示，对于后端返回的错误信息前端如何处理。

* 前端显示所有后端返回的错误信息
* 前端不显示后端返回的错误信息
* 前端需要取舍后端返回的错误信息

## 8. 权限处理

* 资源权限
* 数据权限
* 接口权限
